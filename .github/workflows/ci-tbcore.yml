name: CI Trawlbens Core Project

on:
  push:
    branches:
      - master
jobs:
  build:
    runs-on: self-hosted

    steps:
    - uses: actions/checkout@v2
    - name: Copy Necessary File
      run: cp /home/github-runner/_work/TBCORE/* /home/github-runner/_work/trawlbens.core/trawlbens.core
    - name: Install Composer Dependencies
      run: composer install --no-interaction --prefer-dist --optimize-autoloader
    - name: Install Dependencies
      run: |
          npm install
          npm run prod
          cp ../../TBCORE/.env .
          php artisan optimize
       
    
